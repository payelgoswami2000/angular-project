(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[109],{LOQM:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("q1tI"),a=n.n(i),o=n("n6mq");const l=(e,t,n)=>{const a=Object(i.useRef)(null),o=Object(i.useRef)(null);Object(i.useEffect)(()=>{if(e!==a.current||n&&n!==o.current){a.current=e;const n=(e=>document.querySelector(`img[src="${e}"]`)||null)(e);(null==n?void 0:n.complete)&&t()}o.current=n},[e,t,n])};function r({alt:e,children:t,color:n,isActive:i=!1,naturalHeight:r,naturalWidth:s,onLoad:d,src:c}){return l(c,d,i),a.a.createElement(o.u,{alt:e,color:n,naturalHeight:r,naturalWidth:s,onLoad:d,src:c},t)}},Ov2d:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s}));var i=n("bo/h");const a=(e,t)=>{const n=Object(i.b)(e,t);return`${n.y}px ${n.x}px`},o=({alignment:e,verticalAlignment:t})=>{const n={alignItems:"flex-start",display:"flex",height:"100%",justifyContent:"start",textAlign:"left",width:"100%"};return 1===t?n.alignItems="center":2===t&&(n.alignItems="flex-end"),1===e&&(n.justifyContent="center",n.textAlign="center"),n},l=({fontSize:e,hexColor:t,highlightColor:n,letterSpacing:i,lineHeight:o,name:l})=>({fontSize:e,letterSpacing:i,lineHeight:o,color:t,fontFamily:l,margin:0,maxHeight:"100%",textShadow:n||"#ffffff"!==t.toLowerCase()?void 0:"0px 1px 4px rgba(0, 0, 0, 0.2)",wordBreak:"break-word",...n?{backgroundColor:n,borderRadius:e/5,padding:a(e,o)}:{}}),r=({fontSize:e,hasText:t,highlightColor:n,lineHeight:i})=>({...n?{backgroundColor:t?n:void 0,borderRadius:e/5,padding:a(e,i)}:{}}),s=({letterSpacing:e,lineHeight:t,name:n,url:i})=>({fontFamily:n,fontGroup:"",fontOverrides:{letterSpacing:e,lineHeight:t,textTransform:!1},format:"truetype",defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"normal",fontUrl:i}]})},"Up+5":function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("A0Lk"),a=n.n(i),o=n("7w6Q");function l(e){if("undefined"==typeof window||!document.head)return o.a.increment("load_fonts.failure",1,{failure_reason:"window undefined"}),Promise.reject(new Error("Window is undefined or no head on the document. Unable to load fonts"));const t=document.head,n=[];return e.forEach(e=>{e.styles.forEach(i=>{let o=document.querySelector(`#${e.fontFamily}-${i.name}`);if(!o){if((o=document.createElement("style")).setAttribute("id",`${e.fontFamily}-${i.name}`),t.appendChild(o),e.format&&i.fontUrl&&o&&o.sheet){o.sheet.insertRule(`\n            @font-face {\n              font-family: "${e.fontFamily}";\n              font-style: "${i.fontStyle}";\n              font-weight: "${i.fontWeight}";\n              src: url("${i.fontUrl}") format("${e.format}");\n            }\n          `,0)}n.push(new a.a(e.fontFamily,{style:i.fontStyle,weight:i.fontWeight}).load())}})}),Promise.all(n).then(()=>{Promise.resolve()}).catch(e=>{o.a.increment("load_fonts.failure",1,{failure_reason:"unsuccessful load"}),Promise.reject(e)})}},Vt0H:function(e,t,n){var i=n("q1tI"),a=n.n(i),o=n("/MKj"),l=n("PioT"),r=n("Ye/N"),s=n("51gp"),d=n("9pre"),c=n("vZlu"),u=n("ptXI"),h=n("WnLB"),p=n("y2Ga"),m=n("qu9B"),g=n("n6mq");function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const y=e=>!!e&&e.endsWith(".gif");class v extends i.Component{constructor(...e){super(...e),f(this,"state",{controls:!1,duration:0,fullscreen:!1,playing:!l.a.isSafari()&&!!this.props.autoplay,ready:!1,seeking:!1,showEndCard:!1,volume:this.props.muted?0:1}),f(this,"setVideoPwtLoadingStop",()=>{const{storyPinStepStopwatch:e,pinId:t,pwtSurfaceContext:n}=this.props;e&&(e.addBinaryAnnotation("pin.id",t,"STRING"),e.addBinaryAnnotation("video",!0,"BOOL"),e.stop()),n&&(n.addBinaryAnnotation("pin.id",t,"STRING"),n.addBinaryAnnotation("video",!0,"BOOL"),n.markConstraintComplete(h.e),n.metricId.segment===h.d&&n.removeConstraint(h.c))}),f(this,"componentDidUpdate",(e,t)=>{!1===e.isPlaying&&this.props.isPlaying&&this.setState({playing:!0,controls:!0}),e.isPlaying&&!1===this.props.isPlaying&&this.props.showControls&&this.setState({playing:!1}),e.autoplay!==this.props.autoplay&&(this.setState({playing:!!this.props.autoplay}),this.props.autoplay&&this.state.ready&&this.setVideoPwtLoadingStop()),e.muted!==this.props.muted&&this.setState({volume:this.props.muted?0:1})}),f(this,"handleTouch",({event:e})=>{const{seeking:t}=this.state;t||this.setState(e=>({playing:!e.playing}))}),f(this,"handleShowControls",()=>this.setState({controls:!0})),f(this,"handleHideControls",()=>this.setState({controls:!1})),f(this,"handleReady",()=>{const{playing:e,ready:t}=this.state;e&&!t&&this.setVideoPwtLoadingStop(),this.setState({ready:!0})}),f(this,"handleEnded",({event:e})=>{const{customThumbnail:t,pinId:n,setCurrentVideo:i,loop:a}=this.props;e.stopPropagation(),a||(this.setState({playing:!1}),y(t)||(this.setState({showEndCard:!0}),i({pinId:n,isPromoted:!1,currentTime:0})),this.state.fullscreen&&this.exitFullscreen())}),f(this,"handlePause",({event:e})=>{e.stopPropagation(),this.setState({playing:!1})}),f(this,"handlePlay",({event:e})=>{e.stopPropagation(),this.setState({playing:!0})}),f(this,"handleDurationChange",({duration:e})=>{this.setState({duration:e})}),f(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{e.stopPropagation(),this.setState({fullscreen:t})}),f(this,"handlePlayheadDown",({event:e})=>{this.setState({seeking:!0})}),f(this,"handlePlayheadUp",({event:e})=>{setTimeout(()=>{this.setState({seeking:!1})},500)}),f(this,"handleRestartVideo",({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})}),f(this,"handleVolumeChange",({event:e,volume:t})=>{e.stopPropagation(),this.setState({volume:t})}),f(this,"exitFullscreen",()=>{const e=window.document;(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())}),f(this,"renderCloseupVideoEndCard",(e,t,n,i)=>{const o={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleRestartVideo},{flyoutShareProps:l}=this.props,r={gridDescription:l?l.gridDescription:"",imageSrc:l?l.imageSrc:"",isFlyoutOpen:!!l&&l.isFlyoutOpen,onFlyoutDismiss:l?l.onFlyoutDismiss:()=>{},onToggleFlyout:l?l.onToggleFlyout:()=>{},pinId:l?l.pinId:""};return i?a.a.createElement(u.b,o):a.a.createElement(u.a,Object.assign({},r,o))})}render(){const{contextLogData:e={component:179,objectId:this.props.pinId,view:3,viewParameter:156},customThumbnail:t,isPromoted:n,loop:i,onTimeChange:o,preload:c,showControls:u,variant:h,video:p,videoStartTime:m}=this.props,{controls:f,fullscreen:y,playing:v,showEndCard:b,volume:w}=this.state,_=l.a.isSafari(),S=p.hlsv3||p.hls||null;if(!S&&!p.mp4)return null;const E=p.mp4,x=S?[{type:"video/m3u8",src:S.url}]:[{type:"video/mp4",src:(E||{}).url}],{height:P,thumbnail:I,width:C}=S||E||{},O=t||I;return a.a.createElement(g.z,{willChangeTransform:!(_&&y),rounding:"default"===h?0:2,wash:!0},b?this.renderCloseupVideoEndCard(O,P,C,n):a.a.createElement(g.S,{onMouseEnter:u?this.handleShowControls:void 0,onMouseLeave:u?this.handleHideControls:void 0,onTap:this.handleTouch,rounding:2},a.a.createElement(s.a,{contextLogData:{...e,video_id:this.props.video.id},accessibilityMaximizeLabel:r.a._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:r.a._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:r.a._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:r.a._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:r.a._("Play","Play button on video","Play button on video"),accessibilityUnmuteLabel:r.a._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:C/P,captions:"",controls:f,hlsConfig:{startLevel:d.a},onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onPause:this.handlePause,onPlay:this.handlePlay,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onTimeChange:o,onVolumeChange:this.handleVolumeChange,playing:v,preload:c,poster:O,src:x,videoStartTime:m,volume:w,loop:i})))}}f(v,"defaultProps",{loop:!1,showControls:!0});t.a=Object(o.connect)((e,t)=>{const{pinId:n,isPromoted:i}=t,a=e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},{organicVideosAutoplaying:o,promotedVideosAutoplaying:l}=a;let r=null;return{videoStartTime:(r=i?l[n]:o[n])?r.currentTime:null,isPlaying:!r||!r.paused}},(e,t)=>({setCurrentVideo:t=>e(Object(c.c)(t))}))((function(e){const t=Object(m.b)(),n=Object(p.c)();return a.a.createElement(v,Object.assign({},e,{pwtSurfaceContext:n,storyPinStepStopwatch:t}))}))},WnLB:function(e,t,n){n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return r}));const i="story_pin",a="closefakemodal",o="button",l="video",r="image"},"bo/h":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));const i="0.8.0";function a(e,t=1){return{x:e/5,y:e*(t-1)}}},kIwf:function(e,t,n){n.d(t,"a",(function(){return I}));var i=n("q1tI"),a=n.n(i),o=n("Ye/N"),l=n("LOQM"),r=n("n6mq"),s=n("q/rS"),d=n("bo/h"),c=n("wtY2"),u=n("ZVWG"),h=n("Ov2d"),p=n("pLLR");var m=Object(p.e)((function({block:e,fontsLoaded:t,requestContext:n,scaleFactor:o}){const{block_style:l,style:p=s.b,text:m}=e,{alignment:g,font:f,font_size:y,hex_color:v=s.b.hex_color,highlight_color:b,vertical_alignment:w=s.b.vertical_alignment}=p,[_,S]=Object(i.useState)(0),[E,x]=Object(i.useState)([]),P=f||s.b.font,{name:I,default_size:C,letter_spacing:O,line_height:L}=P,k=Object(u.d)(P),V=Math.round(100*((null==l?void 0:l.width)||100))/1e4,M=Math.round(100*((null==l?void 0:l.height)||100))/1e4,j=Math.round(100*((null==l?void 0:l.x_coord)||0))/1e4,A=Math.round(100*((null==l?void 0:l.y_coord)||0))/1e4;Object(i.useEffect)(()=>{if(t){const e=Object(u.b)({text:m,boxHeight:c.f*M,boxWidth:c.i*V,font:k,startFontSize:Math.floor(y||C)});x(e.lines),S(e.fontSize)}},[t]);const F=_*o,T=b?Object(d.b)(F,L):{x:0,y:0},B=V*c.i*o+2*T.x,H=M*c.f*o+2*T.y,R=j*c.i*o-T.x,W=A*c.f*o-T.y;return a.a.createElement(r.d,{dangerouslySetInlineStyle:{__style:{left:R,top:W}},display:"flex",height:H,position:"absolute",width:B},a.a.createElement(r.d,{dangerouslySetInlineStyle:{__style:Object(h.a)({alignment:g,verticalAlignment:w})}},a.a.createElement(r.d,{display:"inlineBlock",maxWidth:"100%"},a.a.createElement("p",{style:Object(h.d)({fontSize:F,hexColor:v,letterSpacing:O,lineHeight:L,name:I})},E.map((e,t)=>a.a.createElement("span",{key:`paragraphLine-${t}-${m.substr(0,9)}`,style:Object(h.c)({fontSize:F,hasText:e.text.length>0,highlightColor:b||null,lineHeight:L})},t===E.length-1?e.text:a.a.createElement(i.Fragment,null,e.text," ",a.a.createElement("br",null))))))))})),g=n("wvsB"),f=n("v/Q4");function y({ownerId:e}){const t=Object(f.a)(),n=t.isAuth&&t.id===e;return a.a.createElement(r.d,{alignItems:"center",color:"gray",direction:"column",display:"flex",height:"100%",justifyContent:"center",width:"100%"},a.a.createElement(r.T,{color:"white"},n?o.a._("Your video is processing!","closeup.storyPin.videoPlaceholder","Let user know that their video is still processing"):o.a._("This video is still processing!","closeup.storyPin.videoPlaceholder","Let user know that this video is still processing")),a.a.createElement(r.T,{color:"white"},o.a._("Check back in a few minutes.","closeup.storyPin.videoPlaceholder","Let user know to come back in a couple of minutes to view the video")))}var v=n("y2Ga"),b=n("qu9B"),w=n("WnLB");const _=16,S=9,E=375;function x({block:e,isActive:t,pwtTrackImageLoad:n}){if(!e.image)return null;const i=e.image.images["750x"]||e.image.images["474x"];return a.a.createElement(l.a,{alt:o.a._("Story pin image","closeup.storypin.renderer","Alt text for story pin image"),isActive:t,naturalHeight:i.height,naturalWidth:i.width,src:i.url,onLoad:n})}function P({activePageIndex:e,block:t,isActive:n,muted:i,ownerId:o,pageIndex:l,pinId:s,previewOnly:d,scaleFactor:c,stillLoading:u}){const{block_style:{height:h=100,width:p=100,x_coord:m=0,y_coord:f=0}={},video:v}=t,b=E/(S/_),w=p*E*c/100,x=h*b*c/100,P=m*E*c/100,I=f*b*c/100,C=p<100?Math.min(Math.max(100,p)-Math.abs(m),p):Math.min(Math.max(p-Math.abs(m),0),100),O=(h<100?Math.min(Math.max(100,h)-Math.abs(f),h):Math.min(Math.max(h-Math.abs(f),0),100))*b*c/100,L=C*E*c/100,k=Math.max(f,0)*b*c/100,V=Math.max(m,0)*E*c/100;return u?null:v?!!(v.video_list.V_HLSV3_MOBILE||v.video_list.V_720P)&&a.a.createElement(r.d,{dangerouslySetInlineStyle:{__style:{left:V,top:k}},height:O,overflow:"hidden",position:"absolute",width:L},a.a.createElement(g.a,{activePageIndex:e,blockHeight:x,blockPosition:{left:P,top:I},blockWidth:w,isPlaying:n,muted:i,pageIndex:l,previewOnly:d,pinId:s,video:v})):a.a.createElement(r.d,{dangerouslySetInlineStyle:{__style:{left:V,top:k}},height:O,position:"absolute",width:L},a.a.createElement(y,{ownerId:o}))}function I({activePageIndex:e,block:t,fontsLoaded:n,isActive:i,muteVideos:o,ownerId:l,pageIndex:r,pageWidth:d,pinId:c,previewOnly:u,stillLoading:h=!1}){const{block_style:{height:p=100,width:g=100,x_coord:f=0,y_coord:y=0}={}}=t,_=Object(b.b)(),S=Object(v.c)(),I=()=>{_&&i&&(_.addBinaryAnnotation("pin.id",c,"STRING"),_.addBinaryAnnotation("video",!1,"BOOL"),_.stop()),S&&i&&(S.addBinaryAnnotation("pin.id",c,"STRING"),S.addBinaryAnnotation("video",!1,"BOOL"),S.removeConstraint(w.e),S.markConstraintComplete(w.c))};if(0===p||0===g)return null;const C=d/E,O={height:`${p}%`,left:`${f}%`,overflow:"hidden",position:"absolute",top:`${y}%`,width:`${g}%`};switch(t.type){case s.a.PARAGRAPH:case s.a.HEADING:return a.a.createElement(m,{block:t,fontsLoaded:n,scaleFactor:C});case s.a.VIDEO:return a.a.createElement(P,{activePageIndex:e,block:t,isActive:i,muted:o,ownerId:l,pageIndex:r,pinId:c,previewOnly:u,scaleFactor:C,stillLoading:h});case s.a.IMAGE:return a.a.createElement("div",{style:O},a.a.createElement(x,{block:t,isActive:i,pwtTrackImageLoad:I}));default:return null}}},ptXI:function(e,t,n){n.d(t,"a",(function(){return p}));var i=n("q1tI"),a=n.n(i),o=n("Ye/N"),l=n("7w6Q"),r=n("fepT"),s=n("U4JR"),d=(n("CgR/"),n("n6mq"));function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},h={overlay:{__style:{backgroundColor:"#000"}}};class p extends i.PureComponent{constructor(...e){super(...e),c(this,"setSendButton",e=>{this.sendButton=e}),c(this,"handleRestartVideo",({event:e})=>{e&&e.stopPropagation&&e.stopPropagation();const{onRestartVideo:t}=this.props;t&&t({event:e}),l.a.increment("web.video.endcard.share",1,{status:"restart",variant:"enabled_send_first"})}),c(this,"handleShareVideo",()=>{const{onToggleFlyout:e,isFlyoutOpen:t,pinId:n}=this.props;e&&e(),t&&l.a.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"}),Object(s.a)(101,{component:179,objectId:n,view:3,viewParameter:156,element:11731})}),c(this,"handleExternalSend",()=>{l.a.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"})}),c(this,"renderReplayButton",()=>a.a.createElement(d.S,{onTap:this.handleRestartVideo,rounding:2},a.a.createElement(d.d,{alignItems:"center",display:"flex",padding:2},a.a.createElement(d.s,{accessibilityLabel:o.a._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:u,size:30}),a.a.createElement(d.d,{margin:1}),a.a.createElement(d.r,{color:"white",overflow:"normal",size:"sm"},o.a._("Watch again","Clickable label when pressed restarts the video","Clickable label when pressed restarts the video"))))),c(this,"renderShareButton",()=>{const{gridDescription:e,imageSrc:t,isFlyoutOpen:n,onFlyoutDismiss:i,pinId:l}=this.props;return a.a.createElement(d.d,{alignItems:"center",display:"flex",padding:2},a.a.createElement(r.default,{buttonType:"icon",gridDescription:e,imageSrc:t,isFlyoutOpen:n,onExternalSend:this.handleExternalSend,onFlyoutDismiss:i,onToggleFlyout:this.handleShareVideo,pinId:l,sendType:"pin",shareButtonRef:this.setSendButton,shownWithinMasonry:!0,iconOnly:!0}),a.a.createElement(d.d,{margin:1}),a.a.createElement(d.S,{onTap:this.handleShareVideo,rounding:2},a.a.createElement(d.r,{color:"white",overflow:"normal",size:"sm"},o.a._("Send","end.video.send.icon.label","Clickable label when pressed opens share sheet after video is finished"))))})}componentDidMount(){const{pinId:e}=this.props;l.a.increment("web.video.endcard.share",1,{status:"land",variant:"enabled_send_first"}),Object(s.a)(13,{component:179,objectId:e,view:3,viewParameter:156,element:11731})}render(){const{backgroundImage:e,naturalHeight:t,naturalWidth:n,pinTitle:i}=this.props;return a.a.createElement(d.d,null,a.a.createElement(d.u,{alt:i||"",naturalHeight:t,naturalWidth:n,src:e},a.a.createElement(d.d,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:h.overlay}),a.a.createElement(d.d,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",direction:"column"},a.a.createElement(d.d,{alignItems:"center",justifyContent:"center",position:"absolute",direction:"column"},a.a.createElement(d.d,null,this.renderShareButton()),a.a.createElement(d.d,{alignSelf:"center"},this.renderReplayButton())))))}}t.b=({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:i,pinTitle:l})=>a.a.createElement(d.d,null,a.a.createElement(d.u,{alt:l||"",naturalHeight:t,naturalWidth:n,src:e},a.a.createElement(d.d,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:h.overlay}),a.a.createElement(d.d,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%"},a.a.createElement(d.d,null,a.a.createElement(d.S,{onTap:i,rounding:2},a.a.createElement(d.d,{alignItems:"center",display:"flex",padding:2},a.a.createElement(d.s,{accessibilityLabel:o.a._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:u,size:30}),a.a.createElement(d.d,{margin:1}),a.a.createElement(d.r,{color:"white",overflow:"normal",size:"sm"},o.a._("Watch again","Clickable label when pressed restarts the video","Clickable label when pressed restarts the video"))))))))},qu9B:function(e,t,n){n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return r}));var i=n("j0Fm");const{Provider:a,useHook:o}=Object(i.a)({name:"story_pin_step",v2LoggerMetricName:701,sampleRate:1}),l=a,r=o},wvsB:function(e,t,n){var i=n("q1tI"),a=n.n(i),o=n("/MKj"),l=n("Vt0H"),r=n("Ye/N"),s=n("XCz/"),d=n("HMdf"),c=n("0SCs"),u=n("n6mq");const h=3,p=()=>{var e;return!(null===(e=window)||void 0===e?void 0:e.devicePixelRatio)||window.devicePixelRatio<=1?"1x":"2x"};t.a=Object(o.connect)(e=>({isLandingPage:0===e.history.previous.length}),()=>({}))((function({activePageIndex:e,blockHeight:t,blockPosition:n,blockWidth:i,isLandingPage:o,isPlaying:m,muted:g,pageIndex:f,pinId:y,previewOnly:v=!1,video:b}){const{group:w}=Object(c.a)("web_story_pin_mp4"),{hlsv3:_,mp4:S}=function(e,t){const{video_list:n={}}=e;if("enabled_lowend"===t||"enabled_highend"===t){const e=Object(d.d)(),i=p();let a;const o={unknown:{"1x":n.V_EXP3,"2x":n.V_EXP5},"0-1":{"1x":n.V_EXP3,"2x":n.V_EXP5},"1-5":{"1x":n.V_EXP4,"2x":n.V_EXP5}};if(["unknown","0-1","1-5"].includes(e))a=o[e][i];else if("enabled_lowend"===t){const t=["20-40","40-80","80_or_above"];"5-10"===e?a=n.V_EXP5:"10-20"===e?a=n.V_EXP6:t.includes(e)&&(a=n.V_EXP7)}else"enabled_highend"===t&&(a=n.V_EXP7);return{hlsv3:(a=a||n.V_720P)?void 0:n.V_HLSV3_MOBILE||void 0,mp4:a||void 0}}return{hlsv3:n.V_HLSV3_MOBILE||void 0,mp4:n.V_720P||void 0}}(b,w)||{},E=_||S;if(!E)return null;const{height:x,thumbnail:P,width:I}=E,C=I/x,O={height:"100%",left:"0",top:"0",width:"100%"},L=i/t;if(Math.abs(L-C)>.01)if(L<C){const e=100*C/L;O.width=`${e}%`,O.left=`-${(e-100)/2}%`}else if(L>C){const e=100*L/C;O.height=`${e}%`,O.top=`-${(e-100)/2}%`}return a.a.createElement(u.d,{height:t,overflow:"hidden",position:"relative",width:i},a.a.createElement(u.d,{dangerouslySetInlineStyle:{__style:{left:n.left<0?n.left:0,top:n.top<0?n.top:0}},height:"100%",position:"absolute",width:"100%"},a.a.createElement(s.a,{name:"web_perf_preload_story_pin_videos",activate:!0},({anyEnabled:t,group:n})=>(function(e,t,n){let i=!1;return n?("enabled_display_auto"===e?i=t<=n+h:"enabled_next_auto"===e&&(i=t<=n+1),i):i})(n,f,e)||m?a.a.createElement(u.d,{dangerouslySetInlineStyle:{__style:O},position:"absolute"},a.a.createElement(l.a,{loop:!0,autoplay:!t||m,contextLogData:{component:0===f?227:228,element:10957,objectId:y,story_pin_page_id:f,view:3,viewParameter:157},customThumbnail:P,isPromoted:!1,muted:g,pinId:y,showControls:!1,variant:"legacy",video:{id:b.id,hlsv3:_,mp4:S}})):a.a.createElement(u.u,{alt:r.a._("Story Pin video cover image","closeup.storyPin.videoCover","cover image displayed for a video"),fit:"cover",naturalHeight:x,naturalWidth:I,src:P}))))}))}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/109-038b80f680706747e23e.mjs.map