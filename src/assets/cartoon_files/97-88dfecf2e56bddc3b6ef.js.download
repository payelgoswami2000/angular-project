(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[97],{AnoD:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("/MKj"),i=n("zFhk"),l=n("a8hX"),c=n("JKZO"),s=n("Ye/N"),u=n("zy/z"),d=n("4cpq"),m=n("aUfZ"),f=n("xmd6"),p=n("ANjH"),g=n("zywm"),h=n("/5zs"),y=n("xdpg"),b=n("U4JR"),v=n("eIuQ"),E=n("i9se"),C=n("pLLR"),O=n("n6mq");function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(c){o=!0,a=c}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=5,L={anchorRefSet:!1,inputAreaFocused:!1,isTextChanged:!1,showConfirmDiscardModal:!1,submissionInProgress:!1,textValue:"",viewType:"text",userMentionOverLimitError:!1},U=function(e,t){return e[t.id]=t,e},B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(m,e);var t,n,r,a=T(m);function m(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return P(I(e=a.call.apply(a,[this].concat(n))),"state",j(j({},L),{},{tags:e.props.tags||[],taggedUserMap:{},taggedUsers:e.props.taggedUsers||[],textValue:e.props.text||""})),P(I(e),"countTags",(function(){return e._textAreaRef&&e._textAreaRef.innerHTML?e._textAreaRef.querySelectorAll(".communityEditorMention").length:0})),P(I(e),"setAnchorRef",(function(t){e._suggestionAnchor=t,e.setState({anchorRefSet:!0})})),P(I(e),"setRef",(function(t){return e._textAreaRef=t})),P(I(e),"updateTags",(function(t){var n=e.state.taggedUsers.concat(t),r=e.state.taggedUserMap;r[t.id]=U(t,e.state.taggedUserMap),e.setState({taggedUserMap:r,taggedUsers:n},(function(){e.setState({userMentionOverLimitError:e.countTags()>D})}))})),P(I(e),"handleBlur",(function(){e.setState({inputAreaFocused:!1})})),P(I(e),"handleFocus",(function(){e.props.onEnter()})),P(I(e),"handleChange",(function(t){var n=t.text,r=t.mentions;r.length<e.state.tags.length&&Object(b.a)(8906,{tag_type:1}),e.setState({isTextChanged:!0,textValue:n,tags:r,userMentionOverLimitError:r.length>D})})),P(I(e),"handleOnClickEdit",(function(){var t=e.props,n=t.onEditItem,r=t.requestContext,o=t.taggedUsers,a={};if(new h.c(r,"cp_mention_web").enabled()){var i=e.state,l=i.textValue,c=i.tags;a={contentMarkdown:l,imageSignatures:"",objectIds:[],tags:JSON.stringify(c)}}else{var s=e.state.taggedUserMap,u=Object(g.d)(e._textAreaRef,s,o);a={contentMarkdown:Object(y.j)(e._textAreaRef&&e._textAreaRef.textContent.trim()||""),imageSignatures:"",objectIds:[],tags:u}}n&&n(a),e.setState({submissionInProgress:!1})})),P(I(e),"handleOnClickPost",(function(){e.state.userMentionOverLimitError||(e.setState({submissionInProgress:!0}),e.handleOnClickPostFinal())})),P(I(e),"handleOnClickPostFinal",(function(){var t=e.props,n=t.onAddItem,r=t.requestContext,o=t.taggedUsers,a={};if(new h.c(r,"cp_mention_web").enabled()){var i=e.state,l=i.textValue,c=i.tags;a={contentMarkdown:l,imageSignatures:"",objectIds:[],tags:JSON.stringify(c)}}else{var s=Object(g.d)(e._textAreaRef,e.state.taggedUserMap,o);a={contentMarkdown:Object(y.j)(e._textAreaRef&&e._textAreaRef.textContent.trim()||""),imageSignatures:"",objectIds:[],tags:s}}n&&n(a),e.setState(L)})),P(I(e),"handleOnFinalDiscardItem",(function(){var t=e.props.onCancelItem;e.setState(L),t()})),P(I(e),"handleTextChange",(function(t){e.setState({isTextChanged:!(!e._textAreaRef||!e._textAreaRef.textContent.trim())&&t,userMentionOverLimitError:e.countTags()>D})})),P(I(e),"isSubmitEditDisabled",(function(){return!e.state.isTextChanged})),P(I(e),"toggleShowConfirmDiscardModal",(function(){var t=e.state.showConfirmDiscardModal;e.setState({showConfirmDiscardModal:!t})})),P(I(e),"renderConfirmDiscardModal",(function(){var t,n;return"textInFlightEdit"===e.props.statusType?(t=s.a._("Your changes will be discarded","Confirmation dialog before discarding changes","Confirmation dialog before discarding changes"),n=s.a._("Discard changes","Clear edits","Clear edits")):(t=s.a._("Once you delete a draft, you canâ€™t undo it","Confirmation before discarding changes","Confirmation before discarding changes"),n=s.a._("Delete","delete draft of a post or comment","delete draft of a post or comment")),o.a.createElement(l.a,{accessibilityModalLabel:s.a._("Confirm discard composer","Confirm discarding a post or comment","Confirm discarding a post or comment"),heading:s.a._("Are you sure?","Confirm discarding a post or comment","Confirm discarding a post or comment"),cancelButtonText:s.a._("Cancel","Cancel discarding a post or comment","Cancel discarding a post or comment"),confirmButtonText:n,detail:t,onConfirm:e.handleOnFinalDiscardItem,onDismiss:e.toggleShowConfirmDiscardModal})})),P(I(e),"getReplyToEntity",(function(e){return[e?"@".concat(e.user.username," "):"",e?[{offset:0,object_id:e.user.id,length:e.user.username.length+1,tag_type:1}]:[]]})),e}return t=m,r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.replyToObject?{taggedUserMap:U(t.taggedUserMap,e.replyToObject.user)}:{}}}],(n=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.statusType,r=t.objectType,o=t.parentObjectId;"textInflightCreation"!==e.statusType&&"textInflightCreation"===n&&Object(b.a)(101,{element:this.composeContextLogElementMap[r],component:this.composeContextLogComponentMap[r],objectId:o})}},{key:"render",value:function(){var e,t,n=this,r=this.props,a=r.avatarSize,l=r.replyToObject,m=r.requestContext,f=r.privatePin,p=r.statusType,g=r.viewingUser,y=this.state,E=y.anchorRefSet,C=y.inputAreaFocused,x=y.isTextChanged,_=y.showConfirmDiscardModal,k=y.submissionInProgress,j=y.tags,S=y.taggedUsers,M=y.textValue,T=y.userMentionOverLimitError,A={borderRadius:8,boxShadow:"0 0 0 4px rgba(0,132,255,.5)"},I={background:"transparent",border:"0",display:x?"inline-block":"block",minHeight:"textStaticDisplay"===p?"":"50px",fontSize:"16px",outline:"0",overflowX:"hidden",resize:"none",whiteSpace:"pre-wrap",width:"100%"},R=w(this.getReplyToEntity(l),2),P=R[0],D=R[1],L=o.a.createElement(O.d,null,o.a.createElement(O.T,{color:"red",size:"sm",align:"right"},Object(v.d)(!1)));e=this.isPost?s.a._("Start a discussion","Writing a post","Writing a post"):this.isAggregatedComment&&f?s.a._("Add a public comment","Add a comment","Add a comment"):this.isAggregatedComment?s.a._("Add a comment","Prompt to add a comment","Prompt to add a comment"):this.isBoardActivityComment?s.a._("Add comment","Prompt to add a comment","Prompt to add a comment"):s.a._("Reply","Adding text to a community comment","Adding text to a community comment"),t=this.isPost?s.a._("Post","Create a post","Create a post"):this.isAggregatedComment?s.a._("Done","Post a top level comment on a pin or tried it","Post a top level comment on a pin or tried it"):s.a._("Reply","Posting a reply to a post or comment","Posting a reply to a post or comment");var U=new h.c(m,"cp_mention_web").enabled(),B=x;return"textInflightCreation"===p?o.a.createElement(O.d,{column:12,display:"flex",justifyContent:"center"},o.a.createElement(O.d,{width:"100%"},o.a.createElement(O.d,{display:"flex"},o.a.createElement(O.d,{marginEnd:2},o.a.createElement(i.a,{user:g,size:a})),o.a.createElement(O.d,{flex:"grow",padding:4,rounding:4,borderSize:"sm"},U?o.a.createElement(c.a,{focusOnMount:!0,initialMentions:D,initialText:P,onAddMention:function(){Object(b.a)(8905,{tag_type:1})},onBlur:this.handleBlur,onChange:this.handleChange,onSearchMentionCancel:function(){Object(b.a)(8908,{tag_type:1})},onSuggestionsPopoverOpen:function(){Object(b.a)(8907,{tag_type:1})},placeholder:e}):o.a.createElement("div",{ref:this.setAnchorRef,style:C?A:{}},o.a.createElement(O.d,{display:"flex",rounding:2},E&&o.a.createElement(u.a,{shouldLoseFocus:_,handleBlur:this.handleBlur,style:I,setRef:this.setRef,suggestionAnchor:this._suggestionAnchor,updateTags:this.updateTags,existingTags:j,replyToObject:l,taggedUsers:S,textValue:M,onChange:this.handleTextChange}))))),T&&L,o.a.createElement(O.d,{display:"flex",justifyContent:"end",marginTop:4},o.a.createElement(O.e,{color:"gray",inline:!0,onClick:B?this.toggleShowConfirmDiscardModal:this.handleOnFinalDiscardItem,text:s.a._("Cancel","Cancel making post or comment","Cancel making post or comment")}),o.a.createElement(O.d,{marginStart:2},o.a.createElement(d.a,{id:"activity-item-create-submit"},o.a.createElement(O.e,{color:"red",disabled:!x||k,inline:!0,onClick:this.handleOnClickPost,text:t}))))),_&&this.renderConfirmDiscardModal()):"textInFlightEdit"===p?o.a.createElement(O.d,{column:12,display:"flex",justifyContent:"center"},o.a.createElement(O.d,{width:"100%"},o.a.createElement(O.d,{display:"flex"},o.a.createElement(O.d,{width:"100%",padding:4,rounding:4,borderSize:"sm"},U?o.a.createElement(c.a,{focusOnMount:!0,initialMentions:j,initialText:M,onAddMention:function(){Object(b.a)(8905,{tag_type:1})},onBlur:this.handleBlur,onChange:this.handleChange,onSearchMentionCancel:function(){Object(b.a)(8908,{tag_type:1})},onSuggestionsPopoverOpen:function(){Object(b.a)(8907,{tag_type:1})},placeholder:e}):o.a.createElement("div",{ref:this.setAnchorRef,style:C?A:{}},o.a.createElement(O.d,{display:"flex",rounding:2},E&&o.a.createElement(u.a,{handleBlur:this.handleBlur,style:I,setRef:this.setRef,suggestionAnchor:this._suggestionAnchor,updateTags:this.updateTags,existingTags:j,taggedUsers:S,textValue:M,onChange:this.handleTextChange}))))),T&&L,o.a.createElement(O.d,{display:"flex",justifyContent:"end",marginTop:4},o.a.createElement(O.e,{color:"gray",inline:!0,onClick:B?this.toggleShowConfirmDiscardModal:this.handleOnFinalDiscardItem,text:s.a._("Cancel","Cancel making post or comment","Cancel making post or comment")}),o.a.createElement(O.d,{marginStart:2},o.a.createElement(O.e,{color:"red",disabled:this.isSubmitEditDisabled()||k,inline:!0,onClick:this.handleOnClickEdit,text:s.a._("Edit","Edit a post","Edit a post")})))),_&&this.renderConfirmDiscardModal()):o.a.createElement(O.d,{alignItems:"center",display:"flex",justifyContent:"between",rounding:2},o.a.createElement("div",{onKeyDown:this.handleFocus,onClick:this.handleFocus,role:"textbox",tabIndex:"0",style:{cursor:"text",width:"100%"}},o.a.createElement(O.d,{column:12,display:"flex"},o.a.createElement(O.d,{width:48},o.a.createElement(i.a,{user:g,size:a})),o.a.createElement(O.d,{dangerouslySetInlineStyle:{__style:{borderRadius:"26px"}},width:"100%",height:48,alignItems:"center",display:"flex",marginStart:4,padding:4,borderSize:"sm"},o.a.createElement("textarea",{maxLength:2e3,name:"communityItemTextBox",onBlur:this.handleBlur,onFocus:this.handleFocus,placeholder:e,ref:function(e){n._textAreaRef=e},rows:1,style:I})))))}},{key:"isPost",get:function(){return this.props.objectType===E.a.BOARD_ACTIVITY}},{key:"isBoardActivityComment",get:function(){return this.props.objectType===E.a.BOARD_ACTIVITY_COMMENT}},{key:"isAggregatedComment",get:function(){var e=this.props.objectType;return e===f.a.pin||e===f.a.didIt||e===f.a.aggregatedComment}},{key:"composeContextLogComponentMap",get:function(){var e;return P(e={},E.a.BOARD_ACTIVITY_COMMENT,13191),P(e,E.a.BOARD_ACTIVITY,13190),e}},{key:"composeContextLogElementMap",get:function(){var e;return P(e={},E.a.BOARD_ACTIVITY_COMMENT,10624),P(e,E.a.BOARD_ACTIVITY,10624),e}}])&&S(t.prototype,n),r&&S(t,r),m}(r.Component);P(B,"defaultProps",{imageSignature:"",onEnter:function(){},showWelcomeEducation:!1,text:"",widthAuto:!1});var F={image_medium_url:"",type:"user",username:"",full_name:"",first_name:"",id:""};t.a=Object(p.compose)(Object(a.connect)((function(e){var t=e.viewer;return F.image_medium_url=t.imageMediumUrl,F.username=t.username,F.full_name=t.fullName,{viewingUser:F}}),(function(){return{}})),C.e,m.a)(B)},EXPn:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("Ye/N"),i=n("LT60"),l=n("4cpq"),c=n("n6mq");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){var t=e.action,n=e.label,r=e.testId;return o.a.createElement(l.a,{id:"flyout-item-".concat(r)},o.a.createElement(c.e,{accessibilityLabel:n,color:"white",text:n,onClick:t}))},b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(f,e);var t,n,r,s=m(f);function f(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(p(e=s.call.apply(s,[this].concat(n))),"state",{isFlyoutOpen:!1}),h(p(e),"toggleFlyout",(function(t){var n=(t||{}).event||{};n.preventDefault&&(n.preventDefault(),n.stopPropagation()),e.setState({isFlyoutOpen:!e.state.isFlyoutOpen})})),e}return t=f,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.handleClickReport,r=t.handleDelete,s=t.handleOnEdit,u=t.handleRemoveMention,d=t.small,m=this.state.isFlyoutOpen;return n||r||s||u?o.a.createElement(c.d,{display:"flex",direction:"column",alignItems:"end"},o.a.createElement(c.d,null,o.a.createElement(c.d,{ref:function(t){e.flyoutAnchor=t}},o.a.createElement(l.a,{id:"flyout-toggle"},o.a.createElement(c.t,{accessibilityExpanded:m,accessibilityHaspopup:!0,accessibilityLabel:a.a._("more options","accessible label for button to see more options on report content","accessible label for button to see more options on report content"),icon:"ellipsis",onClick:this.toggleFlyout,size:d?"sm":"md"}))),m&&o.a.createElement(c.w,null,o.a.createElement(i.a,null,o.a.createElement(l.a,{id:"flyout"},o.a.createElement(c.p,{anchor:this.flyoutAnchor,idealDirection:"down",onDismiss:this.toggleFlyout,positionRelativeToAnchor:!1,size:"sm"},o.a.createElement(c.d,{width:"100%"},s&&o.a.createElement(y,{action:s,label:a.a._("Edit","Edit a community post or comment","Edit a community post or comment"),testId:"edit"}),r&&o.a.createElement(y,{action:r,label:a.a._("Delete","Delete a community post or comment","Delete a community post or comment"),testId:"delete"}),n&&o.a.createElement(y,{action:n,label:a.a._("Report this content","Report a community post or comment","Report a community post or comment"),testId:"report"}),u&&o.a.createElement(y,{action:function(){u(),e.toggleFlyout()},label:a.a._("Remove @mention","closeup.activityItem.removeMention","Button that allows user to remove their @mention in a comment on a pin"),testId:"removeMention"})))))))):null}}])&&u(t.prototype,n),r&&u(t,r),f}(o.a.PureComponent);h(b,"defaultProps",{handleClickReport:null,handleDelete:null,handleOnEdit:null,handleRemoveMention:null}),t.a=b},JKZO:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("nokP"),i=n.n(a),l=n("yeYm"),c=n.n(l),s=n("clxp"),u=n("Cufx"),d=n("Ye/N"),m=n("n6mq"),f=function(e){var t=e.id,n=e.isFocused,r=e.onMouseDown,a=e.onMouseEnter,i=e.onMouseUp,l=e.mention,c=e.role,s=e.searchValue;return o.a.createElement("div",{id:t,onMouseDown:r,onMouseEnter:a,onMouseUp:i,searchvalue:s,role:c},o.a.createElement(m.d,{display:"flex",alignItems:"center",color:n?"lightGray":"transparent",rounding:4,dangerouslySetInlineStyle:{__style:{cursor:"pointer"}}},o.a.createElement(m.d,{padding:1},o.a.createElement(u.a,{accessibilityLabel:"",name:l.full_name,size:"sm",src:l.image_medium_url,verified:l.verified_identity&&l.verified_identity.verified})),o.a.createElement(m.d,{marginStart:2,marginEnd:2,overflow:"hidden"},o.a.createElement(m.T,{truncate:!0,weight:"bold",color:"darkGray"},l.full_name),o.a.createElement(m.d,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}}},o.a.createElement(m.T,{size:"sm",color:"darkGray"},l.username,l.explicitly_followed_by_me&&" â€¢ ".concat(d.a._("Following","mentions.mentionsFlyout.following","Label to tell the user that they are viewing a user they follow")))))))},p=n("eOdZ"),g=n("vxan"),h=n("aAE7"),y=n.n(h),b=n("v83y"),v=n("TiQD");function E(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){var t=e.decoratorRect,n=e.popover,r=e.state,o=e.props,a=(E(e,["decoratorRect","popover","state","props"]),(t.x||t.left)+n.offsetWidth),i=y()({decoratorRect:t,popover:n,state:r,props:o}),l=i.top,c=i.left,s=null;return a>window.innerWidth&&(s="".concat(parseFloat(c)-a%window.innerWidth,"px")),{display:"block",top:"".concat(parseFloat(l)+5,"px"),left:s||c,zIndex:new m.l([v.a]).index()}};function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(c){o=!0,a=c}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=function(e){return o.a.createElement(m.T,{inline:!0,color:"blue",weight:"bold"},e.children)};t.a=Object(g.a)((function(e){var t=e.focusOnMount,n=e.initialMentions,a=void 0===n?[]:n,l=e.initialText,u=void 0===l?"":l,d=e.instanceId,g=e.maxSuggestions,h=void 0===g?5:g,y=e.makeCancelablePromise,v=e.onAddMention,E=e.onBlur,C=e.onChange,x=e.onFocus,k=e.onSearchMentionCancel,S=e.onSuggestionsPopoverClose,M=e.onSuggestionsPopoverOpen,T=e.placeholder,A=e.readOnly,I=e.spellCheck,R=Object(r.useRef)(null),P=_(Object(r.useState)(!1),2),D=P[0],L=P[1],U=_(Object(r.useState)(!1),2),B=U[0],F=U[1],z=_(Object(r.useState)([]),2),H=z[0],q=z[1],N=_(Object(r.useState)((function(){return{plugins:[e=i()({entityMutability:"IMMUTABLE",mentionComponent:j,mentionPrefix:"@",mentionTrigger:"@",positionSuggestions:w,supportWhitespace:!1})],MentionSuggestions:e.MentionSuggestions};var e})),1)[0],V=N.plugins,W=N.MentionSuggestions,X=_(Object(r.useState)(),2),Y=X[0],G=X[1];Object(r.useEffect)((function(){G(b.EditorState.createWithContent(function(e){var t=e.text,n=e.mentions,r=[],o={},a=[];return n&&n.forEach((function(e,t){var n=e.length,r=e.offset,i=e.object_id;o[t]={data:{mention:{id:i}},mutability:"IMMUTABLE",type:"mention"},a.push({key:t,length:n,offset:r})})),r.push({text:t,key:null,depth:null,inlineStyleRanges:null,type:"unstyled",entityRanges:a}),Object(b.convertFromRaw)({entityMap:o,blocks:r})}({text:u,mentions:a})))}),[d]),Object(r.useEffect)((function(){L(!0)}),[]),Object(r.useEffect)((function(){t&&R.current&&setTimeout(R.current.focus,50)}),[D]);var K=Object(r.useCallback)((function(e){q([]),v&&v(e)}),[]),J=Object(r.useCallback)((function(e){E&&E(e)}),[]),Q=Object(r.useCallback)((function(e){var t=e.getCurrentContent(),n=t.getPlainText(""),r=function(e){var t=[],n=0;return e.getBlocksAsArray().forEach((function(r,o){var a=null;r.findEntityRanges((function(t){var n=t.getEntity();if(!n)return!1;var r=e.getEntity(n);return"mention"===r.getType()&&(a=r.data.mention,!0)}),(function(e,r){a&&t.push({object_id:a.id,offset:n+e,length:r-e,tag_type:1})})),n+=1+r.getLength()})),t}(t);G(e),C({text:n,mentions:r})}),[]),Z=Object(r.useCallback)((function(e){x&&x(e)}),[]),$=Object(r.useCallback)((function(){F(!1),S&&S()}),[]),ee=Object(r.useCallback)((function(){F(!0),M&&M()}),[]),te=Object(r.useCallback)((function(e,t){if(k&&" "===e&&B&&k(),H.length>0)return"not-handled";var n=t.getCurrentContent(),r=t.getSelection();return Q(b.EditorState.push(t,b.Modifier.replaceText(n,r,e),"adjust-depth")),"handled"}),[H]),ne=Object(r.useCallback)((function(e){var t=e.value;y(p.a.create("UserMentionTypeaheadResource",{query:t,num_people:h}).callGet(),"userMentionTypeahead").then((function(e){var t=function(e){return e.suggestions.map((function(e){return O(O({},e),{},{name:e.username})}))}({suggestions:e.resource_response.data});q(t)})).catch((function(){}))}),[]);return o.a.createElement(s.a,{name:"EditorWithMentions"},D&&o.a.createElement(m.d,{"data-test-id":"editor-with-mentions",width:"100%"},o.a.createElement(c.a,{editorState:Y,onBlur:J,onChange:Q,onFocus:Z,handleBeforeInput:te,placeholder:T,plugins:V,readOnly:A,ref:R,spellCheck:I,stripPastedStyles:!0}),o.a.createElement(W,{onAddMention:K,onClose:$,onOpen:ee,onSearchChange:ne,suggestions:H,entryComponent:f})))}))},Klk4:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("zFhk"),i=n("3gA6"),l=n("n6mq"),c=n("GsvW");var s=function(e){var t=e.createdAt,n=(e.commentId,e.user),r=o.a.createElement(l.T,{color:"gray",size:"md"},Object(c.f)(t));return o.a.createElement(l.d,{display:"flex",alignItems:"start",marginStart:-1,marginEnd:-1},o.a.createElement(l.d,{paddingX:1},o.a.createElement(i.b,{to:"/".concat(n.username,"/")},o.a.createElement(l.T,{size:"md",weight:"bold"},Object(c.e)(n)))),o.a.createElement(l.d,{paddingX:1},r))},u=n("lUXN"),d=n("xNI5"),m=n("VbOu"),f=n("4cpq"),p=n("dwea"),g=n("3eT9"),h=n("gI5O"),y=n("AnoD");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(h,e);var t,n,i,c=C(h);function h(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(x(e=c.call.apply(c,[this].concat(n))),"state",{isFeaturedHighlighting:e.props.commentId===e.props.featuredCommentId}),_(x(e),"renderEditMode",(function(){var t=e.props,n=t.contentImage,r=t.contentImageSignature,a=t.contentText,i=t.handleOnEdited,l=t.handleOnEditCancel,c=t.hideAddObjects,s=t.parentObject,u=t.pins,d=t.tags,m=t.taggedUsers,f=t.type;return o.a.createElement(y.a,{addedObjects:u,addedImage:n,hideAddObjects:c,imageSignature:r,objectType:f,onAddItem:function(){},onCancelItem:l,onEditItem:i,onEnter:function(){},parentObjectId:s.id,statusType:"textInFlightEdit",tags:d,taggedUsers:m,text:a,widthAuto:!0})})),e}return t=h,(n=[{key:"componentDidMount",value:function(){var e=this;this.props.commentId===this.props.featuredCommentId&&p.a.setTimeout((function(){e.setState({isFeaturedHighlighting:!1})}),1500)}},{key:"render",value:function(){var e=this.props,t=e.allowLink,n=e.avatarSize,i=e.createdAt,c=e.commentCount,p=e.commentId,h=e.commentAuthor,y=e.contentText,b=e.flyout,v=e.handleHelpfulClick,E=e.handleLikeClick,C=e.handleReplyClick,O=e.handleReplyCountClick,x=e.helpfulCount,w=e.hideReplyCount,_=e.inEditMode,k=e.isLikedByMe,j=e.isMarkedHelpfulByMe,S=e.isPlainComment,M=e.reactionCounts,T=e.tags,A=e.taggedUsers,I=e.handleLikeCountClick,R=e.truncateText,P=this.state.isFeaturedHighlighting;return o.a.createElement(f.a,{id:"canonical-comment"},o.a.createElement(l.d,{display:"flex",marginBottom:S?4:0},o.a.createElement(l.d,{marginEnd:2},o.a.createElement(a.a,{user:h,size:n})),o.a.createElement(l.d,{flex:"grow",marginStart:2},o.a.createElement(l.d,{dangerouslySetInlineStyle:{__style:{borderColor:_?"transparent":void 0,transition:"".concat(1e3,"ms"),backgroundColor:P?"lightGray":null}},borderSize:"sm",padding:_?0:3,rounding:4},_?this.renderEditMode():o.a.createElement(r.Fragment,null,o.a.createElement(s,{commentId:p,createdAt:i,user:h}),R?o.a.createElement(g.a,{allowLink:t,allowReveal:!0,size:"sm",taggedUsers:A,tags:T,text:y}):o.a.createElement(m.a,{allowLink:t,size:"sm",tags:T,taggedUsers:A,text:y}))),!_&&!S&&o.a.createElement(l.d,{padding:1},o.a.createElement(u.a,{name:"web_comment_mark_as_helpful_v2"},(function(e){var t=e.group;return o.a.createElement(d.default,{commentCount:c,flyout:_?null:b,hideReplyCount:w,isLikedByMe:k,onLikeClick:E,onLikeCountClick:I,onReplyClick:C,onReplyCountClick:O,reactionCounts:M,helpfulExperimentGroup:t,isMarkedHelpfulByMe:j,onHelpfulClick:v,helpfulCount:x,small:!0})}))))))}}])&&v(t.prototype,n),i&&v(t,i),h}(o.a.PureComponent);_(k,"defaultProps",{allowLink:!1,avatarSize:"sm"});t.a=Object(h.b)(k)},a8hX:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("TiQD"),i=n("4cpq"),l=n("n6mq");t.a=function(e){var t=e.accessibilityModalLabel,n=e.cancelButtonText,r=e.confirmButtonText,c=e.detail,s=e.heading,u=e.onConfirm,d=e.onDismiss;return o.a.createElement(a.b,{accessibilityModalLabel:t,heading:s,onDismiss:d,size:"md"},o.a.createElement(l.d,null,o.a.createElement(l.d,{padding:4},o.a.createElement(l.T,null,c)),o.a.createElement(l.d,{display:"flex",justifyContent:"end"},o.a.createElement(l.d,{margin:2},o.a.createElement(i.a,{id:"confirm-modal-cancel"},o.a.createElement(l.e,{onClick:d,text:n}))),o.a.createElement(l.d,{margin:2},o.a.createElement(i.a,{id:"confirm-modal-confirm"},o.a.createElement(l.e,{color:"red",onClick:function(){u(),d()},text:r}))))))}},eIuQ:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return c}));var r=n("Ye/N");function o(e){return e?r.a._("Title too long. Make sure all cards' titles have less than 100 characters","Title entered is too long while editing a carousel pin and/or one of its pins","Title entered is too long while editing a carousel pin and/or one of its pins"):r.a._("Title too long. Make sure title has less than 100 characters","Title entered is too long while editing a pin","Title entered is too long while editing a pin")}function a(e){return e?r.a._("Description too long. Make sure all cards' descriptions have less than 500 characters","Description entered is too long while editing a carousel pin and/or one of its pins","Description entered is too long while editing a carousel pin and/or one of its pins"):r.a._("Description too long. Make sure description has less than 500 characters","Description entered is too long while editing a pin","Description entered is too long while editing a pin")}function i(e){return r.a._("Too many mentions. Make sure you have at most 5.","editPinModal.errorMessages.userMentionOverLimit","Too many mentions used in the description")}function l(e){return e?r.a._("Note too long. Make sure all cards' notes have less than 500 characters","User note entered is too long while editing a carousel pin and/or one of its pins","User note entered is too long while editing a carousel pin and/or one of its pins"):r.a._("Note too long. Make sure note has less than 500 characters","User note entered is too long while editing a pin","User note entered is too long while editing a pin")}function c(e){return e?r.a._("Need to provide a valid URL. Make sure all cards' links are valid","Invalid URL/link provided while editing a carousel pin and/or one of its pins","Invalid URL/link provided while editing a carousel pin and/or one of its pins"):r.a._("Need to provide a valid URL. Make sure the link is valid","Invalid URL/link provided while editing a pin","Invalid URL/link provided while editing a pin")}},gI5O:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return l}));var r=n("q1tI"),o=n.n(r),a=Object(r.createContext)(null),i=a.Provider;function l(e){var t=function(t){var n=Object(r.useContext)(a);return o.a.createElement(e,Object.assign({},t,n))};return t.displayName="FeaturedCommentContext(".concat(String(e.displayName||e.name),")"),t}a.Provider},xNI5:function(e,t,n){"use strict";n.r(t),n.d(t,"HelpfulButton",(function(){return d})),n.d(t,"default",(function(){return f}));var r=n("q1tI"),o=n.n(r),a=n("xdpg"),i=n("Ye/N"),l=n("4cpq"),c=n("vvax"),s=n("n6mq"),u={__path:"M21 14.09a2.1 2.1 0 01-2.11 2.08 2.1 2.1 0 012.11 2.1 2.1 2.1 0 01-2.11 2.08H16.5c1.02 0 1.85.82 1.85 1.82 0 1.01-.83 1.83-1.85 1.83H9.9A7.87 7.87 0 012 16.17c0-2.2.93-4.2 2.41-5.61 2.19-2.3 3.4-5.3 3.4-8.47A2.1 2.1 0 019.9 0a2.1 2.1 0 012.12 2.09c0 1.99-.37 3.92-1.05 5.74h7.9A2.1 2.1 0 0121 9.9a2.1 2.1 0 01-2.11 2.1A2.1 2.1 0 0121 14.09z"};function d(e){var t=e.helpfulCount,n=e.isMarkedHelpfulByMe,r=e.onHelpfulClick,a=i.a._("Helpful","Comments marked helpful text.","Comments marked helpful text."),l=Object(c.b)(i.a._("Helpful {{helpfulCount}}","Comments marked helpful count text.","Comments marked helpful count text."),{helpfulCount:t||0});return o.a.createElement(s.d,{display:"flex",justifyContent:"center",alignItems:"center"},o.a.createElement(s.S,{onTap:r,rounding:2},o.a.createElement(s.H,null,o.a.createElement(s.s,{accessibilityLabel:"helpful icon",dangerouslySetSvgPath:u,color:n?"red":"gray",size:16}),o.a.createElement(s.d,{paddingX:1},o.a.createElement(s.T,{size:"sm",color:"gray",weight:"bold"},void 0!==t&&t>0?l:a)))))}function m(e){var t=e.likeCount,n=e.isLikedByMe,r=e.onLikeClick;return o.a.createElement(s.d,{display:"flex",justifyContent:"center",alignItems:"center"},o.a.createElement(s.S,{onTap:r,rounding:2},o.a.createElement(s.d,{display:"flex"},o.a.createElement(s.s,{accessibilityLabel:"helpful icon",icon:"heart",color:n?"red":"gray",size:16}),t>0&&o.a.createElement(s.d,{paddingX:1},o.a.createElement(s.T,{size:"sm",color:"gray",weight:"bold"},t)))))}function f(e){var t=e.commentCount,n=void 0===t?0:t,r=e.reactionCounts,c=void 0===r?{}:r,u=e.hideReplyCount,f=e.isLikedByMe,p=void 0!==f&&f,g=e.onLikeClick,h=e.onLikeCountClick,y=e.onReplyClick,b=e.onReplyCountClick,v=e.isMarkedHelpfulByMe,E=e.onHelpfulClick,C=e.helpfulCount,O=e.helpfulExperimentGroup,x=e.flyout,w=e.small,_=c[1]||0,k=!!_&&a.i(i.a.ngettext("{{likeCount}} like","{{likeCount}} likes",_),{likeCount:_}),j=!!n&&a.i(i.a.ngettext("{{commentCount}} reply","{{commentCount}} replies",n),{commentCount:n}),S=w?1:2;return o.a.createElement(s.d,{display:"flex",alignItems:"center"},o.a.createElement(s.d,{display:"flex",marginStart:-S,marginEnd:-S},(O||"").startsWith("enabled_2")&&o.a.createElement(d,{helpfulCount:C,isMarkedHelpfulByMe:v,onHelpfulClick:E}),(O||"").startsWith("enabled_1")&&o.a.createElement(m,{likeCount:_,isLikedByMe:p,onLikeClick:g}),!(O||"").startsWith("enabled")&&o.a.createElement(s.d,{paddingX:S},o.a.createElement(l.a,{id:"reactions-like"},o.a.createElement(s.t,{accessibilityLabel:"Like",bgColor:"transparent",icon:"heart",iconColor:p?"red":"gray",onClick:g,size:w?"sm":"md"}))),o.a.createElement(s.d,{paddingX:S},o.a.createElement(l.a,{id:"reactions-reply"},o.a.createElement(s.t,{accessibilityLabel:"Reply",bgColor:"transparent",icon:"speech",iconColor:"gray",onClick:y,size:w?"sm":"md"}))),!!x&&o.a.createElement(s.d,{paddingX:S},x)),o.a.createElement(s.d,{display:"flex",flex:"grow",justifyContent:"end",marginStart:-3,marginEnd:-3},!!k&&!(O||"").startsWith("enabled")&&o.a.createElement(l.a,{id:"reactions-like-count"},o.a.createElement(s.d,{paddingX:3},o.a.createElement(s.S,{onTap:h,rounding:2},o.a.createElement(s.T,{size:"md",color:"gray",weight:"bold"},k)))),!!j&&!u&&o.a.createElement(l.a,{id:"reactions-reply-count"},o.a.createElement(s.d,{paddingX:3},b?o.a.createElement(s.S,{onTap:b,rounding:2},o.a.createElement(s.T,{size:"md",color:"gray",weight:"bold"},j)):o.a.createElement(s.T,{size:"md",color:"gray",weight:"bold"},j))),(O||"").startsWith("enabled_1")&&o.a.createElement(d,{helpfulCount:C,isMarkedHelpfulByMe:v,onHelpfulClick:E})))}},zFhk:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("Cufx"),i=n("3gA6"),l=n("n6mq"),c={sm:32,md:48};t.a=function(e){var t=e.user,n=e.size,r=void 0===n?"md":n,s=e.hasOutline,u=t.first_name,d=t.image_medium_url,m=t.username;return o.a.createElement(i.b,{stopPropagation:!0,to:"/".concat(m,"/")},o.a.createElement(l.d,{position:"relative",width:c[r],height:c[r]},o.a.createElement(a.a,{size:r,src:d,name:u||m||"",outline:s})))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/97-88dfecf2e56bddc3b6ef.js.map