(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["AutologinUtilCommon","AuthHandshakeCommon"],{"37no":function(e,o,t){t.d(o,"a",(function(){return _})),t.d(o,"b",(function(){return c})),t.d(o,"c",(function(){return s}));var n=t("7w6Q");const a=20,r=100,i=.01,_=Object.freeze({OTHER:0,FACEBOOK:1,GPLUS_ONE:2});function c(e){return new Promise((o,t)=>{if(document.querySelector(`script[src="${e}"]`))return void o();const n=document.createElement("script");n.src=e,n.async=!0,n.addEventListener("load",o),n.addEventListener("error",t),document.getElementsByTagName("head")[0].appendChild(n)})}function s(e,o=_.OTHER,t=!1){const c=t?"web":"mweb";return new Promise((t,s)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if(o===_.GPLUS_ONE)if(window.gapi)t();else{const o=setInterval(()=>{window.gapi||e===a?(clearInterval(o),t()):(e+=1,n.a.increment(`${c}.loadScript.gplus_one.tries_${e}`,i))},r)}else if(o===_.FACEBOOK)if(window.FB)t();else{const o=setInterval(()=>{window.FB||e===a?(clearInterval(o),t()):(e+=1,n.a.increment(`${c}.loadScript.facebook.tries_${e}`,i))},r)}else t()}else{const o=document.createElement("script");o.src=e,o.async=!0,o.addEventListener("load",t),o.addEventListener("error",s),document.getElementsByTagName("head")[0].appendChild(o)}})}},"4NbJ":function(e,o,t){t.d(o,"a",(function(){return r})),t.d(o,"b",(function(){return i})),t.d(o,"c",(function(){return l})),t.d(o,"d",(function(){return d})),t.d(o,"e",(function(){return f}));var n=t("bKKl"),a=t("37no");const r="postmessage",i="profile email",_="694505692171-31closf3bcmlt59aeulg2j81ej68j6hk.apps.googleusercontent.com",c="com.pinterest",s="offline",u="single_host_origin",g=()=>Object(a.c)("https://apis.google.com/js/client:platform.js",a.a.GPLUS_ONE);function l(e){const o={scope:i,client_id:_,app_package_name:c,access_type:s,cookie_policy:u},t=function(o){e&&e(o)};return new Promise((e,n)=>{g().then(()=>{t("google_script_load"),"undefined"!=typeof window&&window.gapi?window&&window.gapi&&window.gapi.auth2?(t("google_script_init_onuse"),window.gapi.auth2.init(o).then(o=>{t("google_init_success"),e(o)},({error:e})=>{t("google_init_error"),n(`init_onuse_${e}`)})):(t("google_script_init_exists"),window.gapi.load("auth2",{callback:()=>{t("google_auth2_load_complete"),window.gapi.auth2.init(o).then(o=>{t("google_init_success"),e(o)},({error:e})=>{t("google_init_error"),n(`init_exists_${e}`)})},onerror:({error:e})=>{t("google_auth2_script_load_error"),n(e)},timeout:15e3,ontimeout:()=>{t("google_auth2_script_load_timeout"),n("timeout")}})):t("google_init_error")})})}function d(e,o,t,a=!1){return function(e,o,t,a=!1){return new Promise((_,c)=>{if(a&&Object(n.i)())return void c();const s=function(e){t&&t(e)};s("google_button_init"),l(t).then(()=>{s("google_sdk_load"),"undefined"!=typeof window&&window.gapi?o.signin2.render(e,{scope:i,onsuccess:e=>{s("google_button_success");const o=e.getAuthResponse(!0),t={data:{gplus_id_token:o.id_token,gplus_access_token:o.access_token,gplus_expires_at:o.expires_at,gplus_autologin:a||!1},signupOptions:{gplus_code:"",gplus_id_token:o.id_token,gplus_redirect_uri:r}};_(t)},onfailure:()=>{s("google_button_failure"),c("gapi_signin2_render_error")}}):s("google_init_error")},e=>{s("google_auth2_sdk_init_error"),c(e)})})}(e,o,t,a)}function f(e,o){return new Promise((e,t)=>{Object(n.i)()?t():(o("google_button_init"),function(e){const o={scope:i,client_id:_,app_package_name:c,access_type:s,cookie_policy:u};return new Promise((t,n)=>{e("google_script_fetch"),Object(a.c)("https://apis.google.com/js/platform.js",a.a.GPLUS_ONE).then(()=>{e("google_script_load"),"undefined"!=typeof window&&window.gapi?window.gapi.load("auth2",{callback:()=>{var a,r;e("google_auth2_load");const i=null===(a=window.gapi)||void 0===a?void 0:null===(r=a.auth2)||void 0===r?void 0:r.init(o);i&&i.then(()=>{e("google_init_success"),t(i)},({error:o})=>{e("google_init_error"),n(`gplus_simple_load_init_exists_${o}`)})},onerror:({error:o})=>{e("google_auth2_script_load_error"),n(`gplus_simple_load_${o}`)},timeout:15e3,ontimeout:()=>{e("google_auth2_script_load_timeout"),n("gplus_simple_load_timeout")}}):e("google_init_error")})})}(o).then(n=>{o("google_sdk_load");const a=n.currentUser.get().getAuthResponse(!0);if(a){o("google_auth_data_found");const t={data:{gplus_id_token:a.id_token,gplus_access_token:a.access_token,gplus_expires_at:a.expires_at,gplus_autologin:!0}};e(t)}else o("google_auth_data_not_found"),t("gplus_user_not_logged_in")},e=>{o("google_auth2_sdk_init_error"),t(e)}))})}},Dm6y:function(e,o,t){t.r(o),t.d(o,"fbAutologin",(function(){return E})),t.d(o,"googleAutologin",(function(){return R}));var n=t("gxu6"),a=t("x/Ro"),r=t("28DW"),i=t("mBfy"),_=t("dG+H");var c=t("m2Wt"),s=t("h4v/"),u=t("t8/X"),g=t("zwad"),l=t("htxO");const d=[1201,105,30,82,83,86],f=e=>"facebook"===e?2:3,p=e=>{Object(r.a)(`autologin.${e}`);const o=c.a.fromPlainObject({event_type:38,view_type:9});o.updateAuxData({login_provider:e,unauth_data:JSON.stringify({autologin:!0})}),s.a.getInstance().addEvent(o)},O=(e,o)=>{const t=c.a.fromPlainObject({event_type:o});t.updateAuxData({signup_login_method:f(e),unauth_data:JSON.stringify({autologin:!0})}),s.a.getInstance().addEvent(t)},b=e=>{O(e,7536),Object(u.a)((()=>{let e=window.nextUrlParam;const o={autologin:!0};if(!e&&("/"!==(e=window.location.pathname||"/")&&Object(l.a)(document.referrer)&&(o.lp="true"),Object.assign(o,g.a.getQueryStringParams()),o)){const t=o.next;t&&(e=t,delete o.next)}return g.a.appendQueryString(e,o)})())},h=(e,o)=>{if(O(e,7535),!d.includes(o.api_error_code))throw o.api_error_code?Object(r.a)(`autologin.${e}.uncaught_api_error_code.${o.api_error_code}`):Object(r.a)(`autologin.${e}.uncaught_with_no_api_error_code`),o;n.b("google"===e?"galae":"fbalae",String(12),12)};var E=(e,o)=>{(()=>t.e("FacebookCommon").then(t.bind(null,"UTsl")))().then(({default:t})=>{Object(r.a)("unauth_web.facebook_connect.autologin.attempt"),t.ensureInit(o=>{Object(_.b)("facebook_autologin","UnauthFacebookAutologinScriptLoadedEvent"),Object(r.a)("unauth_web.facebook_autologin.get_login_status.attempt"),o.getLoginStatus(o=>{Object(r.a)("unauth_web.facebook_connect.autologin.success"),"connected"===o.status&&(Object(r.a)("unauth_web.facebook_autologin.get_login_status.response_connected"),Object(_.b)("facebook_autologin","UnauthFacebookAutologinSuccessEvent"),e({type:"FB_AUTOLOGIN_CONNECTED",payload:{}})),function(e){if(n.a("fbalae")){Object(_.a)("facebook_autologin","autologin_disabled");const e=n.a("fbalae");Object(r.a)(`autologin.facebook.skip_for_known_api_errors.${String(e)}`)}else if(Object(r.a)("autologin.facebook_attempt.pure_react"),"connected"===e.status)if(n.a("fba"))Object(_.a)("facebook_autologin","autologin_disabled"),Object(r.a)("autologin.facebook.connected_but_disabled_via_user_cookie");else{const o=e.authResponse;if(!o)return Object(r.a)("autologin.facebook_fail"),void Object(_.a)("facebook_autologin","no_auth_response");Object(_.d)("facebook_autologin"),p("facebook"),O("facebook",7534),Object(a.a)({facebook_id:o.userID,facebook_token:o.accessToken,facebook_autologin:!0},{container:"autologinfb"},null).then(()=>{b("facebook")},e=>{h("facebook",e)})}else Object(_.a)("facebook_autologin",`login_status_${e.status}`)}(o),"not_authorized"===o.status?(Object(r.a)("unauth_web.facebook_autologin.get_login_status.response_not_authorized"),e({type:"FB_AUTOLOGIN_NOT_AUTHORIZED",payload:{}})):"authorization_expired"===o.status?(Object(r.a)("unauth_web.facebook_autologin.get_login_status.response_authorization_expired"),e({type:"FB_AUTOLOGIN_AUTH_EXPIRED",payload:{}})):e({type:"FB_AUTOLOGIN_UNKNOWN",payload:{}})})},i.default,o)})},m=t("fZ0m"),k=t("SyXB"),w=t("4NbJ");const A=e=>Object(_.b)("google_autologin_gsi",e),S=e=>Object(_.a)("google_autologin_gsi",e);var R=(e,o,t)=>{const i=!t||t.inPwtGsiGroup;if(n.a("galae")){const e=n.a("galae");return Object(r.a)(`autologin.google.skip_for_known_api_errors.${String(e)}`),void(i&&S("skipForKnownApiErrors"))}if(n.a("fba"))return Object(r.a)("autologin.google.connected_but_disabled_via_user_cookie"),void(i&&S("connectedButDisabledViaUserCookie"));Object(k.c)("UnauthGoogleAutologinInitEvent"),i&&A("gapiStart"),m.a.get(e=>{Object(k.c)("UnauthGoogleAutologinScriptLoadedEvent"),Object(r.a)("autologin.google_start.pure_react"),t?(i&&A("googleAutologinStart"),Object(w.e)(e,e=>Object(r.a)(`autologin.${e}`)).then((e={})=>{i&&(()=>Object(_.d)("google_autologin_gsi"))(),Object(r.a)("autologin.google_attempt.pure_react"),p("google"),O("google",7534),Object(k.c)("UnauthGoogleAutologinSuccessEvent"),Object(a.a)(e.data,"autologingoogle",null,!1,void 0,void 0,!!t).then(()=>{Object(r.a)("autologin.login_success"),b("google")},e=>{Object(r.a)("mweb_autologin.google_fail"),Object(r.a)("autologin.login_failure"),h("google",e)})},e=>{i&&S("googleFail"),Object(r.a)(`autologin.google_fail.${e}`),e&&-1!==e.indexOf("gplus_simple_load")&&Object(r.a)("mweb_autologin.google_fail")})):Object(r.a)("dev.autologin_disabled.google_v3")})}},UPfj:function(e,o,t){t.d(o,"a",(function(){return i})),t.d(o,"d",(function(){return _})),t.d(o,"e",(function(){return c})),t.d(o,"c",(function(){return s})),t.d(o,"f",(function(){return u})),t.d(o,"b",(function(){return g}));var n=t("gxu6"),a=t("QLqj"),r=t("oZBM");function i(e,o=!1){return o?r.a.tier1:e?(e=e||"",r.f.has(e)?r.a.tier1:r.g.has(e)?r.a.tier2:r.a.tier3):r.a.tier1}function _(){n.b("hasBeenShownLoginModalInOpen","true",r.e)}function c(e){a.b.localStorage.setItem("uoiou",!!e)}function s(){return a.b.localStorage.getItem("uoiou")||!1}function u(){a.b.sessionStorage.setItem(r.d,r.c)}function g(){return s()||a.b.sessionStorage.getItem(r.d)===r.c}},VL22:function(e,o,t){t.d(o,"a",(function(){return i})),t.d(o,"b",(function(){return _})),t.d(o,"d",(function(){return c})),t.d(o,"c",(function(){return s}));var n=t("17x9"),a=t.n(n),r=t("kmwA");const i={FACEBOOK:"facebook",GOOGLE_ONE_TAP:"google_one_tap",GOOGLE:"google",EMAIL:"email",OTHER:"other"},_=e=>e.facebook_id?i.FACEBOOK:e.google_open_id_token?i.GOOGLE_ONE_TAP:e.gplus_code||e.gplus_id_token?i.GOOGLE:e.email?i.EMAIL:i.OTHER,c=(a.a.shape({credentials:a.a.shape({}),userData:a.a.shape({}),type:a.a.oneOf(Object.values(i))}),(e="")=>e in r.a.settings.MINIMUM_AGE_BY_EU_COUNTRY),s=e=>r.a.settings.EN_COUNTRIES_WITH_MANDATORY_AGE.includes(e)||r.a.settings.LATAM_AGE_COLLECTION.has(e)},bKKl:function(e,o,t){t.d(o,"i",(function(){return a})),t.d(o,"b",(function(){return r})),t.d(o,"c",(function(){return i})),t.d(o,"g",(function(){return _})),t.d(o,"e",(function(){return c})),t.d(o,"f",(function(){return s})),t.d(o,"d",(function(){return u})),t.d(o,"h",(function(){return g})),t.d(o,"a",(function(){return l}));var n=t("gxu6");const a=()=>(()=>!!n.a("logged_out"))()||!!n.a("fba"),r=105,i=78,_=30,c=77,s=1402,u=79,g=[8,9],l=101},dg5e:function(e,o,t){t.r(o);var n=t("JW66"),a=t("+NLT"),r=t("eOdZ"),i=t("kmwA"),_=t("28DW"),c=t("zwad");const s={_parseJson:function(e){return e.json()},_throwError:function(e){const o=new Error(e.statusText);throw o.response=e,s._reconstructError(o),o},_checkStatus:function(e){return 200===e.status||401===e.status?e:(s._throwError(e),{})},_crossDomainRequest:function(e,o,t){if("GET"!==t&&"POST"!==t)return Promise.resolve({});const r={credentials:"include",mode:"cors"};return"POST"===t&&(r.method="POST",r.body=o,r.headers={"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","X-Pinterest-InstallId":a.a.instance.unauth_id},a.a.instance.unauth_id||Object(_.a)(`unauth.auth_handshake.cross_domain.no_unauth_id.${t}`)),fetch(e,r).then(s._checkStatus).then(s._parseJson).then(e=>"success"===e.status?Promise.resolve(e):e.code===n.a.LOGIN_MFA_REQUIRED?(e.api_error_code=e.code,Promise.reject(e)):(s._throwError(e),{})).catch(e=>{throw e})},_reconstructError:e=>{!e.api_error_code&&e.response&&(e.api_error_code=e.response.code,e.message=e.response.message)},_verifyAndGetToken:function(){const e=i.a.settings.ACCOUNTS_PINTEREST_URL+"/v3/handshake/verify/";return s._crossDomainRequest(e,"","GET")},exchangeTokenAndSetSession:function(e,o=!1){return r.a.create("HandshakeSessionResource",{token:e,isRegistration:o}).callCreate()},verifyLoggedInStatus:function(){s._verifyAndGetToken().then(e=>{if(e&&e.data){const o=e.data;s.exchangeTokenAndSetSession(o).then(e=>{window.location.reload()},e=>{})}},e=>{})},_setUpRegisterParameters:function(e){const o={};if(o.email=e.email||"",o.username=e.username||"",o.password=e.password||"",o.first_name=e.first_name||"",o.last_name=e.last_name||"",o.country=e.country||"",o.locale=a.a.instance.locale,o.referrer=a.a.instance.referrer,e.age){const t=new Date;t.setFullYear(t.getFullYear()-e.age);const n=parseInt(t/1e3,10);o.birthday=n.toString()}if(e.custom_gender&&(o.custom_gender=e.custom_gender),e.gender&&(o.gender=e.gender),e.business_name&&(o.account_type=e.account_type,o.business_name=e.business_name,o.first_name=e.business_name),a.a.instance.invite_code&&(o.invite_code=a.a.instance.invite_code),e.facebook_id){const t=a.a.instance.facebook_token||e.facebook_token||"";o.facebook_id=e.facebook_id,o.facebook_token=t,o.social_username=e.social_username||""}else(e.gplus_code||e.gplus_id_token)&&(o.password=e.password||"",o.one_time_code=e.gplus_code,o.id_token=e.gplus_id_token,o.redirect_uri=e.gplus_redirect_uri);return e.recaptchaV3Token&&(o.recaptcha_v3_token=e.recaptchaV3Token),c.a.getQueryStringFromObject(o)},_setUpLoginParameters:function(e,o){const t={};if(e.username_or_email&&(t.username_or_email=e.username_or_email.trim(),t.password=e.password,t.referrer=a.a.instance.referrer),e.facebook_id){const o=a.a.instance.facebook_token||e.facebook_token||"";t.facebook_id=e.facebook_id,t.facebook_token=o,t.facebook_autologin=e.facebook_autologin||!1}return e.gplus_id_token&&(t.gplus_id_token=e.gplus_id_token,t.gplus_access_token=e.gplus_access_token,t.gplus_expires_at=e.gplus_expires_at,t.gplus_autologin=e.gplus_autologin||!1),e.mfa_token&&(t.mfa_token=e.mfa_token),o&&(t.token=o),c.a.getQueryStringFromObject(t)},_getRegisterRequestUrl:function(e){let o="/v3/register/email/handshake/";return e.facebook_id&&(o="/v3/register/facebook/handshake/"),(e.gplus_code||e.gplus_id_token)&&(o="/v3/register/gplus/handshake/"),e.business_name&&(o="/v3/register/partner/handshake/"),i.a.settings.ACCOUNTS_PINTEREST_URL+o},_getLoginRequestUrl:function(e){let o="/v3/login/handshake/";return e.facebook_id&&(o="/v3/login/facebook/handshake/"),e.gplus_id_token&&(o="/v3/login/gplus/handshake/"),e.mfa_token&&(o="/v3/login/mfa/handshake/"),i.a.settings.ACCOUNTS_PINTEREST_URL+o},registerUser:function(e){const o=s._getRegisterRequestUrl(e),t=s._setUpRegisterParameters(e);return s._crossDomainRequest(o,t,"POST")},loginUser:function(e,o){const t=s._getLoginRequestUrl(e),n=s._setUpLoginParameters(e,o);return s._crossDomainRequest(t,n,"POST")}};o.default=s},fZ0m:function(e,o,t){const n={get(e){(()=>t.e("ScriptCommon").then(t.bind(null,"6tKR")))().then(({default:o})=>{o.load([],"https://apis.google.com/js/client:platform.js","gplus"),o.ready("gplus",()=>{e(window.gapi)})})}};o.a=n},htxO:function(e,o,t){t.d(o,"a",(function(){return a})),t.d(o,"b",(function(){return r}));var n=t("zwad");function a(e){const o=function(e){const{hostname:o}=n.a.parse(e,!0);if(o&&e){if(e.match(/^(http|https):\/\/(www.)?google\.com$|google\.(co|com)\.[a-z]{2}$|google\.[a-z]{2}$/))return"GOOGLE";if(o.includes("bing."))return"BING";if(o.includes("yahoo."))return"YAHOO"}return""}(e);return["GOOGLE","BING","YAHOO"].includes(o)}function r(e,o){const t=(((o||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>|<!--[\s\S]*/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(e,o)=>t.indexOf("<"+o.toLowerCase()+">")>-1?e:"")}},oZBM:function(e,o,t){t.d(o,"a",(function(){return n})),t.d(o,"f",(function(){return a})),t.d(o,"g",(function(){return r})),t.d(o,"b",(function(){return i})),t.d(o,"e",(function(){return _})),t.d(o,"d",(function(){return c})),t.d(o,"c",(function(){return s}));const n={tier1:"tier1",tier2:"tier2",tier3:"tier3"},a=new Set(["AU","US","CA","IE","NZ","GB"]),r=new Set(["AT","BE","CH","CZ","DK","ES","NO","PT","SE","NL"]),i=60,_=12,c="openUnauthType",s="OPEN_UNAUTH"},"t8/X":function(e,o,t){t.d(o,"a",(function(){return i}));var n=t("xAAE"),a=t("28DW"),r=t("zwad");function i(e){r.a.isTrustedOrigin(e)||(e="/",Object(a.a)("url_reset")),Object(n.a)(e,!1)}},"x/Ro":function(e,o,t){var n=t("dg5e"),a=t("+NLT"),r=t("eOdZ"),i=t("QLqj"),_=t("kmwA"),c=t("JW66"),s=t("28DW");const u=new Map([[1,"INVALID_PARAMETERS"],[100,"INVALID_NETWORK_ACCESS_TOKEN"],[105,"FACEBOOK_ACCOUNT_NOT_LINKED"],[12,"API_SERVER_ERROR"],[1202,"LOGIN_MFA_TOKEN_INVALID"],[1203,"MFA_CONNECTION_ERROR"],[13,"API_DOWN"],[181,"GPLUS_CONNECTION_ERROR"],[14,"API_SERVER_SPAM_CONTENT"],[16,"API_REQUEST_TIMEOUT"],[50,"API_ERROR_PIN_NOT_FOUND"],[77,"INVALID_PASSWORD_FB_USER"],[78,"INVALID_PASSWORD_ERROR_CODE"],[79,"INVALID_EMAIL_ERROR_CODE"],[80,"INVALID_EMAIL_OR_PASSWORD"],[82,"LOGIN_DEACTIVATED_USER"],[83,"LOGIN_POLICY_VIOLATION_USER"],[85,"AUTO_PASSWORD_RESET_ERROR_CODE"],[86,"LOGIN_PANICKED_USER"],[87,"LOGIN_SOFT_BANNED_USER"],[93,"API_ERROR_UNDERAGE_REGISTER_ATTEMPT"],[99,"LOGIN_PASSWORD_NOT_CREATED"],[8,"API_LIMIT_EXCEEDED_ERROR"],[9,"API_EVENT_BLOCKED_ERROR"],[19,"USER_IN_SAFE_MODE"],[84,"LOGIN_VOLUNTARILY_DEACTIVATED_USER"],[85,"LOGIN_BAD_PASSWORD_ASK_RESET"],[1201,"LOGIN_MFA_REQUIRED"],[30,"LOGIN_USER_NOT_FOUND"],[88,"LOGIN_HARD_BANNED_USER"],[429,"RESPONSE_CODE_TOO_MANY_REQUESTS"]]);function g(e,o,t="unknown_source",n=!1){if(e){const a=e.http_status===c.a.RESPONSE_CODE_TOO_MANY_REQUESTS?c.a.RESPONSE_CODE_TOO_MANY_REQUESTS:e.api_error_code;let r=a;u.has(a)&&(r=u.get(a));const{container:i}=o;n?Object(s.a)(`unauth_web_client_cctld_login_api_error.${String(r)}.${i||"unknow_container"}.${t}`):Object(s.a)(`unauth_web_client_login_api_error.${String(r)}.${i||"unknow_container"}.${t}`)}}var l=t("UPfj"),d=t("VL22"),f=t("53sj");const p=function(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":e.facebook_id?d.a.FACEBOOK:e.google_open_id_token?d.a.GOOGLE_ONE_TAP:e.gplus_id_token?d.a.GOOGLE:e.phone_number?"phone_number":e.username_or_email?d.a.EMAIL:d.a.OTHER},O=function(e,o,t=!1){let n="referrer_unknown";try{const e=document.referrer;n=e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(u){}const a=p(e),r=o===Object(o)?o.hybridTier:"tier_unknown",i=o===Object(o)?o.container:"container_unknown";Object(s.a)("login.referrer."+n+"."+a),Object(s.a)("login.container."+i+"."+a),Object(s.a)("login.type."+a);const _=p(e)||"method_unknown",c=o.page||"page_unknown";e.gplus_autologin?t?(Object(s.a)("mweb_autologin.google_success"),Object(s.h)("new_mweb_autologin_google",{page:c,referrer:n,container:i,hybridTier:r})):(Object(s.a)("web_autologin_google"),Object(s.h)("new_web_autologin_google",{page:c,referrer:n,container:i,hybridTier:r})):e.facebook_autologin?(Object(s.a)("web_autologin_facebook"),Object(s.h)("new_web_autologin_facebook",{page:c,referrer:n,container:i,hybridTier:r})):(Object(s.a)(`web_login.${_}.success.${c}.${i}.${n}.${r}`),Object(s.h)(`new_web_login.${_}.success`,{page:c,referrer:n,container:i,hybridTier:r}))},b=(e,o)=>{Object(s.a)(`web_cross_domain_login.${e}.${p(o)}`)};o.a=function(e,o={},t=null,c=!1,s,u,d=!1){if(function(e){return!e.mfa_resend&&!!e.username_or_email}(e)){if(-1!==_.a.settings.CORS_HANDSHAKE_DOMAINS.indexOf(a.a.instance.origin))return function(e,o,t){return b("attempt",e),n.default.loginUser(e,o).then(o=>{if(o&&o.data){b("success_with_token",e);const a=o.data;return n.default.exchangeTokenAndSetSession(a).then(o=>(b("success_token_exchanged",e),O(e,t),Promise.resolve()),o=>{throw b("success_token_not_exchanged",e),o})}throw b("success_without_token",e),new Error},o=>{throw b("failure",e),g(o,t,p(e),!0),o})}(e,u,o)}e.switch_account&&(e.get_user=!!c||e.get_user);const h=c?null:i.b.localStorage.getItem("visitedPagesBeforeLogin"),E={...e,app_type_from_client:7===a.a.instance.app_type?7:5,visited_pages_before_login:h?JSON.stringify(h):null,recaptchaV2Token:s,recaptchaV3Token:u};return r.a.create("UserSessionResource",E).callCreate({showError:!1,async:!0}).then(t=>(O(e,o,d),Object(l.e)(!1),Object(f.a)("login").then(()=>t)),t=>(g(t,o,p(e)),Promise.reject(t)))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/AutologinUtilCommon-22955ca9a3e2caaa7877.mjs.map